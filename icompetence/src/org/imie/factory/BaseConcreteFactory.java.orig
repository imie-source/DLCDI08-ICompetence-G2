package org.imie.factory;

import org.imie.DAO.AdresseDAO;
import org.imie.DAO.CompetenceDAO;
import org.imie.DAO.CursusDAO;
<<<<<<< HEAD
import org.imie.DAO.GroupWorkDAO;
import org.imie.DAO.NiveauDAO;
=======
import org.imie.DAO.GroupeDeTravailDAO;
>>>>>>> 44c0036a1fd2d38dbc21901c95984dc5594729df
import org.imie.DAO.UserDAO;
import org.imie.DAO.interfaces.IAdresseDAO;
import org.imie.DAO.interfaces.ICompetenceDAO;
import org.imie.DAO.interfaces.ICursusDAO;
<<<<<<< HEAD
import org.imie.DAO.interfaces.IGroupWorkDAO;
import org.imie.DAO.interfaces.INiveauDAO;
=======
import org.imie.DAO.interfaces.IGroupeDeTravailDAO;
>>>>>>> 44c0036a1fd2d38dbc21901c95984dc5594729df
import org.imie.DAO.interfaces.IUserDAO;
import org.imie.service.CursusService;
import org.imie.service.UserService;
import org.imie.service.interfaces.ICursusService;
import org.imie.service.interfaces.IUserService;
import org.imie.transactionalFramework.ITransactional;
import org.imie.transactionalFramework.TransactionalFactory;

/**
 * factory de base de l'application
 * 
 * @author imie
 * 
 */
public class BaseConcreteFactory implements IFactory {

	/**
	 * attribut stockant l'instance du singleton
	 */
	private static BaseConcreteFactory instance;

	/**
	 * modification de la portée du constructeur pour ne pas pouvoir faire new
	 * BaseFActory hors de la classe
	 */
	private BaseConcreteFactory() {
		super();
	};

	/**
	 * methode qui retourne toujours la même instance de BaseConcreteFactory
	 * @return le singleton instancié
	 */
	public static synchronized BaseConcreteFactory getInstance() {
		if (instance == null) {
			instance = new BaseConcreteFactory();
		}
		return instance;
	}

	
	public IUserService createUserService(ITransactional caller) {
		TransactionalFactory<UserService> fact = (TransactionalFactory<UserService>) TransactionalFactory.getInstance();
		return fact.createTransactionalService(new UserService(), caller);
	}

	
	public ICursusService createCursusService(ITransactional caller) {
		TransactionalFactory<CursusService> fact = (TransactionalFactory<CursusService>) TransactionalFactory
				.getInstance();
		return fact.createTransactionalService(new CursusService(), caller);
	}

	
	public IUserDAO createUserDAO(ITransactional caller) {
		TransactionalFactory<UserDAO> fact = (TransactionalFactory<UserDAO>) TransactionalFactory.getInstance();
		return fact.createTransactionalService(new UserDAO(), caller);
	}

	
	public ICursusDAO createCursusDAO(ITransactional caller) {
		TransactionalFactory<CursusDAO> fact = (TransactionalFactory<CursusDAO>) TransactionalFactory.getInstance();
		return fact.createTransactionalService(new CursusDAO(), caller);
	}

	
	public ICompetenceDAO createCompetenceDAO(ITransactional caller) {
		TransactionalFactory<CompetenceDAO> fact = (TransactionalFactory<CompetenceDAO>) TransactionalFactory
				.getInstance();
		return fact.createTransactionalService(new CompetenceDAO(), caller);
	}
		
		
	public IGroupeDeTravailDAO createGroupWorkDAO(ITransactional caller){
		TransactionalFactory<GroupeDeTravailDAO> fact = (TransactionalFactory<GroupeDeTravailDAO>) TransactionalFactory
				.getInstance();
		return fact.createTransactionalService(new GroupeDeTravailDAO(), caller);
	}

	
	public IAdresseDAO createAdresseDAO(ITransactional caller) {
		TransactionalFactory<AdresseDAO> fact = (TransactionalFactory<AdresseDAO>) TransactionalFactory
				.getInstance();
		return fact.createTransactionalService(new AdresseDAO(), caller);
		
	}

	
	public INiveauDAO createNiveauDAO(ITransactional caller) {
		TransactionalFactory<NiveauDAO> fact = (TransactionalFactory<NiveauDAO>) TransactionalFactory.getInstance();
		return fact.createTransactionalService(new NiveauDAO(), caller);
	}
	
}
